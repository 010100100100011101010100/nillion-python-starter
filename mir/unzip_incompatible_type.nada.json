{
  "functions": [
    {
      "id": 4371172800,
      "args": [
        {
          "name": "a",
          "type": {
            "Secret": {
              "Integer": null
            }
          },
          "source_ref": {
            "file": "unzip_incompatible_type.py.py",
            "lineno": 17,
            "offset": 449,
            "length": 66
          }
        },
        {
          "name": "b",
          "type": {
            "Secret": {
              "Integer": null
            }
          },
          "source_ref": {
            "file": "unzip_incompatible_type.py.py",
            "lineno": 17,
            "offset": 449,
            "length": 66
          }
        }
      ],
      "function": "mult",
      "body": {
        "Addition": {
          "left": {
            "NadaFunctionArgRef": {
              "function_id": 4371172800,
              "refers_to": "a",
              "type": {
                "Secret": {
                  "Integer": null
                }
              },
              "source_ref": {
                "file": "unzip_incompatible_type.py.py",
                "lineno": 17,
                "offset": 449,
                "length": 66
              }
            }
          },
          "right": {
            "NadaFunctionArgRef": {
              "function_id": 4371172800,
              "refers_to": "b",
              "type": {
                "Secret": {
                  "Integer": null
                }
              },
              "source_ref": {
                "file": "unzip_incompatible_type.py.py",
                "lineno": 17,
                "offset": 449,
                "length": 66
              }
            }
          },
          "type": {
            "Secret": {
              "Integer": null
            }
          },
          "source_ref": {
            "file": "unzip_incompatible_type.py.py",
            "lineno": 18,
            "offset": 516,
            "length": 20
          }
        }
      },
      "return_type": {
        "Secret": {
          "Integer": null
        }
      },
      "source_ref": {
        "file": "unzip_incompatible_type.py.py",
        "lineno": 17,
        "offset": 449,
        "length": 66
      }
    },
    {
      "id": 4371173376,
      "args": [
        {
          "name": "a",
          "type": {
            "Secret": {
              "Integer": null
            }
          },
          "source_ref": {
            "file": "unzip_incompatible_type.py.py",
            "lineno": 13,
            "offset": 348,
            "length": 65
          }
        },
        {
          "name": "b",
          "type": {
            "Secret": {
              "Integer": null
            }
          },
          "source_ref": {
            "file": "unzip_incompatible_type.py.py",
            "lineno": 13,
            "offset": 348,
            "length": 65
          }
        }
      ],
      "function": "add",
      "body": {
        "Addition": {
          "left": {
            "NadaFunctionArgRef": {
              "function_id": 4371173376,
              "refers_to": "a",
              "type": {
                "Secret": {
                  "Integer": null
                }
              },
              "source_ref": {
                "file": "unzip_incompatible_type.py.py",
                "lineno": 13,
                "offset": 348,
                "length": 65
              }
            }
          },
          "right": {
            "NadaFunctionArgRef": {
              "function_id": 4371173376,
              "refers_to": "b",
              "type": {
                "Secret": {
                  "Integer": null
                }
              },
              "source_ref": {
                "file": "unzip_incompatible_type.py.py",
                "lineno": 13,
                "offset": 348,
                "length": 65
              }
            }
          },
          "type": {
            "Secret": {
              "Integer": null
            }
          },
          "source_ref": {
            "file": "unzip_incompatible_type.py.py",
            "lineno": 14,
            "offset": 414,
            "length": 20
          }
        }
      },
      "return_type": {
        "Secret": {
          "Integer": null
        }
      },
      "source_ref": {
        "file": "unzip_incompatible_type.py.py",
        "lineno": 13,
        "offset": 348,
        "length": 65
      }
    }
  ],
  "parties": [
    {
      "name": "Party2",
      "source_ref": {
        "file": "unzip_incompatible_type.py.py",
        "lineno": 6,
        "offset": 76,
        "length": 33
      }
    },
    {
      "name": "Party1",
      "source_ref": {
        "file": "unzip_incompatible_type.py.py",
        "lineno": 5,
        "offset": 42,
        "length": 33
      }
    }
  ],
  "inputs": [
    {
      "type": {
        "Array": {
          "inner_type": {
            "Secret": {
              "Integer": null
            }
          },
          "size": 10
        }
      },
      "party": "Party2",
      "name": "my_array_2",
      "doc": "",
      "source_ref": {
        "file": "unzip_incompatible_type.py.py",
        "lineno": 8,
        "offset": 197,
        "length": 86
      }
    },
    {
      "type": {
        "Array": {
          "inner_type": {
            "Secret": {
              "Integer": null
            }
          },
          "size": 10
        }
      },
      "party": "Party1",
      "name": "my_array_1",
      "doc": "",
      "source_ref": {
        "file": "unzip_incompatible_type.py.py",
        "lineno": 7,
        "offset": 110,
        "length": 86
      }
    }
  ],
  "literals": [],
  "outputs": [
    {
      "name": "zip.unzip.tuple",
      "inner": {
        "Unzip": {
          "inner": {
            "Zip": {
              "left": {
                "InputReference": {
                  "refers_to": "my_array_2",
                  "type": {
                    "Array": {
                      "inner_type": {
                        "Secret": {
                          "Boolean": null
                        }
                      },
                      "size": 10
                    }
                  },
                  "source_ref": {
                    "file": "unzip_incompatible_type.py.py",
                    "lineno": 8,
                    "offset": 197,
                    "length": 86
                  }
                }
              },
              "right": {
                "InputReference": {
                  "refers_to": "my_array_1",
                  "type": {
                    "Array": {
                      "inner_type": {
                        "Secret": {
                          "Integer": null
                        }
                      },
                      "size": 10
                    }
                  },
                  "source_ref": {
                    "file": "unzip_incompatible_type.py.py",
                    "lineno": 7,
                    "offset": 110,
                    "length": 86
                  }
                }
              },
              "type": {
                "Array": {
                  "inner_type": {
                    "NadaTuple": {
                      "left_type": {
                        "Secret": {
                          "Boolean": null
                        }
                      },
                      "right_type": {
                        "Secret": {
                          "Integer": null
                        }
                      }
                    }
                  },
                  "size": 10
                }
              },
              "source_ref": {
                "file": "unzip_incompatible_type.py.py",
                "lineno": 10,
                "offset": 285,
                "length": 48
              }
            }
          },
          "type": {
            "NadaTuple": {
              "left_type": {
                "Array": {
                  "inner_type": {
                    "Secret": {
                      "Integer": null
                    }
                  },
                  "size": 10
                }
              },
              "right_type": {
                "Array": {
                  "inner_type": {
                    "Secret": {
                      "Integer": null
                    }
                  },
                  "size": 10
                }
              }
            }
          },
          "source_ref": {
            "file": "unzip_incompatible_type.py.py",
            "lineno": 10,
            "offset": 285,
            "length": 48
          }
        }
      },
      "party": "Party1",
      "type": {
        "NadaTuple": {
          "left_type": {
            "Array": {
              "inner_type": {
                "Secret": {
                  "Integer": null
                }
              },
              "size": 10
            }
          },
          "right_type": {
            "Array": {
              "inner_type": {
                "Secret": {
                  "Integer": null
                }
              },
              "size": 10
            }
          }
        }
      },
      "source_ref": {
        "file": "unzip_incompatible_type.py.py",
        "lineno": 22,
        "offset": 604,
        "length": 54
      }
    },
    {
      "name": "zip.map.reduce.array",
      "inner": {
        "Reduce": {
          "fn": 4371172800,
          "inner": {
            "Map": {
              "fn": 4371173376,
              "inner": {
                "Zip": {
                  "left": {
                    "InputReference": {
                      "refers_to": "my_array_1",
                      "type": {
                        "Array": {
                          "inner_type": {
                            "Secret": {
                              "Integer": null
                            }
                          },
                          "size": 10
                        }
                      },
                      "source_ref": {
                        "file": "unzip_incompatible_type.py.py",
                        "lineno": 7,
                        "offset": 110,
                        "length": 86
                      }
                    }
                  },
                  "right": {
                    "InputReference": {
                      "refers_to": "my_array_2",
                      "type": {
                        "Array": {
                          "inner_type": {
                            "Secret": {
                              "Integer": null
                            }
                          },
                          "size": 10
                        }
                      },
                      "source_ref": {
                        "file": "unzip_incompatible_type.py.py",
                        "lineno": 8,
                        "offset": 197,
                        "length": 86
                      }
                    }
                  },
                  "type": {
                    "Array": {
                      "inner_type": {
                        "NadaTuple": {
                          "left_type": {
                            "Secret": {
                              "Integer": null
                            }
                          },
                          "right_type": {
                            "Secret": {
                              "Integer": null
                            }
                          }
                        }
                      },
                      "size": 10
                    }
                  },
                  "source_ref": {
                    "file": "unzip_incompatible_type.py.py",
                    "lineno": 20,
                    "offset": 538,
                    "length": 64
                  }
                }
              },
              "type": {
                "Array": {
                  "inner_type": {
                    "Secret": {
                      "Integer": null
                    }
                  },
                  "size": 10
                }
              },
              "source_ref": {
                "file": "unzip_incompatible_type.py.py",
                "lineno": 20,
                "offset": 538,
                "length": 64
              }
            }
          },
          "initial": {
            "InputReference": {
              "refers_to": "my_int1",
              "type": { "Secret": { "Integer": null } },
              "source_ref": {
                "file": "unzip_incompatible_type.py",
                "lineno": 7,
                "offset": 212,
                "length": 64
              }
            }
          },
          "type": {
            "Secret": {
              "Integer": null
            }
          },
          "source_ref": {
            "file": "unzip_incompatible_type.py.py",
            "lineno": 20,
            "offset": 538,
            "length": 64
          }
        }
      },
      "party": "Party1",
      "type": {
        "Secret": {
          "Integer": null
        }
      },
      "source_ref": {
        "file": "unzip_incompatible_type.py.py",
        "lineno": 23,
        "offset": 659,
        "length": 60
      }
    }
  ],
  "source_files": {
    "unzip_incompatible_type.py.py": "from nada_dsl import *\n\n\ndef nada_main():\n    party1 = Party(name=\"Party1\")\n    party2 = Party(name=\"Party2\")\n    my_array_1 = Array(SecretInteger(Input(name=\"my_array_1\", party=party1)), size=10)\n    my_array_2 = Array(SecretInteger(Input(name=\"my_array_2\", party=party2)), size=10)\n\n    unzipped = unzip(my_array_2.zip(my_array_1))\n\n    @nada_fn\n    def add(a: SecretInteger, b: SecretInteger) -> SecretInteger:\n        return a + b\n\n    @nada_fn\n    def mult(a: SecretInteger, b: SecretInteger) -> SecretInteger:\n        return a + b\n\n    new_array = my_array_1.zip(my_array_2).map(add).reduce(mult)\n\n    out1 = Output(unzipped, \"zip.unzip.tuple\", party1)\n    out2 = Output(new_array, \"zip.map.reduce.array\", party1)\n\n    return [out1, out2]\n"
  }
}